(this.webpackJsonpformula1analytics=this.webpackJsonpformula1analytics||[]).push([[0],{130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},134:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(6),o=n.n(s),c=(n(80),n(3)),l=(n(81),n(10),n(152)),u=n(153),i=(n(82),l.a.Header);var p=function(e){return r.a.createElement("div",{className:"Navigation"},r.a.createElement(i,{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement("p",{className:"website-name"},"Formula 1 Analytics")),r.a.createElement(u.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[]},r.a.createElement(u.a.Item,{onClick:function(){return e.onDataTypeChange("drivers")},key:"drivers"},"Drivers"),r.a.createElement(u.a.Item,{onClick:function(){return e.onDataTypeChange("constructors")},key:"constructors"},"Constructors"))))},f=(n(130),l.a.Footer);var d=function(){return r.a.createElement("div",{className:"MainFooter"},r.a.createElement(f,{className:"footer",style:{textAlign:"center"}},"Created by Andrew H."))},m=(n(131),n(132),n(2)),b=n.n(m),v=n(5),g=n(157),h=n(155),y=n(156),j=n(154),x=(n(134),j.a.Option);var O=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),s=(n[0],n[1],e.options.map((function(e){return r.a.createElement(x,{value:e},e)})));return r.a.createElement("div",{className:"selector"},r.a.createElement(j.a,{mode:"multiple",style:{width:"100%"},placeholder:e.placeHolder,defaultValue:[],onChange:e.onChange,allowClear:!0},s))},w=(n(147),j.a.Option);function E(){console.log("blur")}function k(){console.log("focus")}function S(e){console.log("search:",e)}var N=function(e){console.log("Single selector options: "+e.options);var t=[];return e.options.map((function(e){t.push(r.a.createElement(w,{value:e.toString()},e.toString()))})),r.a.createElement("div",{className:"contentSection-layout"},r.a.createElement(j.a,{showSearch:!0,style:{width:200},placeholder:e.placeHolder,optionFilterProp:"children",onChange:e.onChange,onFocus:k,onBlur:E,onSearch:S,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},allowClear:!0},t))},T="http://ergast.com/api/f1";function C(){return D.apply(this,arguments)}function D(){return(D=Object(v.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Getting seasons from API"),e.next=3,fetch(T+"/seasons.json?limit=100");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a=n.MRData.SeasonTable.Seasons.map((function(e){return e.season})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/drivers.json");case 2:return n=e.sent,console.log(n),e.next=6,n.json();case 6:return a=e.sent,console.log(a),r=a.MRData.DriverTable.Drivers.map((function(e){return{driverId:e.driverId,givenName:e.givenName,familyName:e.familyName}})),console.log(r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(b.a.mark((function e(t,n){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/drivers/"+n+"/results/1.json?limit=100");case 2:return a=e.sent,console.log(a),e.next=6,a.json();case 6:return r=e.sent,console.log(r),s=r.MRData.RaceTable.Races.length,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(b.a.mark((function e(t,n){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/drivers/"+n+"/grid/1/results.json?limit=100");case 2:return a=e.sent,console.log(a),e.next=6,a.json();case 6:return r=e.sent,console.log(r),s=r.MRData.RaceTable.Races.length,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return W.apply(this,arguments)}function W(){return(W=Object(v.a)(b.a.mark((function e(t,n){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/drivers/"+n+"/fastest/1/results.json?limit=100");case 2:return a=e.sent,console.log(a),e.next=6,a.json();case 6:return r=e.sent,console.log(r),s=r.MRData.RaceTable.Races.length,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(b.a.mark((function e(t,n,a){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/"+a+"/drivers/"+n+"/laps.json?limit=1000");case 2:return r=e.sent,console.log(r),e.next=6,r.json();case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/constructors.json");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,console.log(a),r=a.MRData.ConstructorTable.Constructors.map((function(e){return{constructorId:e.constructorId,name:e.name}})),console.log(r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return G.apply(this,arguments)}function G(){return(G=Object(v.a)(b.a.mark((function e(t,n){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T+"/"+t+"/constructors/"+n+"/constructorStandings.json");case 2:return a=e.sent,console.log(a),e.next=6,a.json();case 6:return r=e.sent,console.log(r),s=r.MRData.StandingsTable.StandingsLists[0].ConstructorStandings[0],console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)(null),u=Object(c.a)(l,2),i=u[0],p=u[1],f=Object(a.useState)(e.stats),d=Object(c.a)(f,2),m=d[0],j=(d[1],Object(a.useState)(null)),x=Object(c.a)(j,2),w=x[0],E=x[1],k=Object(a.useState)(null),S=Object(c.a)(k,2),T=S[0],D=S[1],P=Object(a.useState)(null),R=Object(c.a)(P,2),L=R[0],H=R[1],I=new Map;function A(){return(A=Object(v.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),D(null),H(null),void 0!==t&&null!==t){e.next=6;break}return E(null),e.abrupt("return");case 6:return e.next=8,M(t);case 8:n=e.sent,console.log(n),n.map((function(e){I.set(e.givenName+" "+e.familyName,e.driverId)})),console.log(I),p(I),E(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("use effect"),console.log(e.dataType),null===e.dataType){t.next=8;break}if(null!==s){t.next=8;break}return t.next=6,C();case 6:n=t.sent,o(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){W.apply(this,arguments)}();var F=[];return console.log(e.dataType),console.log(s),console.log(i),null!==s&&F.push(r.a.createElement(g.a,{span:4},r.a.createElement(N,{placeHolder:"Select a season",onChange:function(e){return A.apply(this,arguments)},options:s}))),null!==w&&F.push(r.a.createElement(g.a,{span:4},r.a.createElement(O,{placeHolder:"Select drivers",onChange:function(e){void 0===e||0===e.length?(D(null),H(null)):D(e)},options:Array.from(i.keys())}))),null!==T&&F.push(r.a.createElement(g.a,{span:4},r.a.createElement(N,{placeHolder:"Select a statistic",onChange:function(e){void 0===e||0===e.length?H(null):H(e)},options:m}))),null!==L&&F.push(r.a.createElement(g.a,{onClick:function(){e.loadDriversData(w,T,L,i)},span:4},r.a.createElement(h.a,null,"Visualize"))),console.log(F),r.a.createElement(y.a,{className:"DriversOptions flex-container wrap",gutter:[24,16]},F)};var Z=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)(null),u=Object(c.a)(l,2),i=u[0],p=u[1],f=Object(a.useState)(e.stats),d=Object(c.a)(f,2),m=d[0],j=(d[1],Object(a.useState)(null)),x=Object(c.a)(j,2),w=x[0],E=x[1],k=Object(a.useState)(null),S=Object(c.a)(k,2),T=S[0],D=S[1],M=Object(a.useState)(null),P=Object(c.a)(M,2),R=P[0],L=P[1],H=new Map;function I(){return(I=Object(v.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),D(null),L(null),void 0!==t&&null!==t){e.next=6;break}return E(null),e.abrupt("return");case 6:return e.next=8,V(t);case 8:n=e.sent,console.log(n),n.map((function(e){H.set(e.name,e.constructorId)})),p(H),E(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("use effect"),console.log(e.dataType),null===e.dataType){t.next=8;break}if(null!==s){t.next=8;break}return t.next=6,C();case 6:n=t.sent,o(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){A.apply(this,arguments)}();var W=[];return console.log(e.dataType),console.log(s),null!==s&&W.push(r.a.createElement(g.a,{span:4},r.a.createElement(N,{placeHolder:"Select a season",onChange:function(e){return I.apply(this,arguments)},options:s}))),null!==w&&W.push(r.a.createElement(g.a,{span:4},r.a.createElement(O,{placeHolder:"Select constructors",onChange:function(e){void 0===e||0===e.length?D(null):D(e)},options:Array.from(i.keys())}))),null!==T&&W.push(r.a.createElement(g.a,{span:4},r.a.createElement(N,{placeHolder:"Select a statistic",onChange:function(e){void 0===e||0===e.length?L(null):L(e)},options:m}))),null!==R&&W.push(r.a.createElement(g.a,{span:4},r.a.createElement(h.a,{onClick:function(){e.loadConstructorData(w,T,R,i)}},"Visualize"))),console.log(W),r.a.createElement(y.a,{className:"ConstructorsOptions flex-container wrap",gutter:[24,16]},W)};var $=function(e){return r.a.createElement("div",null,"drivers"===e.dataType?r.a.createElement(K,{className:"driver-wrap",loadDriversData:function(t,n,a,r){e.onVisualize(t,n,a,r)},stats:e.stats}):null,"constructors"===e.dataType?r.a.createElement(Z,{className:"constructor-wrap",loadConstructorData:function(t,n,a,r){e.onVisualize(t,n,a,r)},stats:e.stats}):null)},q=(n(148),n(40)),Q=n.n(q);var U;var X=function(e){var t=e.stat,n=e.data,s=e.labels,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){!function(){var e=o.current.getContext("2d");"undefined"!==typeof U&&U.destroy(),console.log(t),U=new Q.a(e,{type:"bar",data:{labels:s,datasets:[{label:t,data:n,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{title:{display:!0,text:t},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}()})),r.a.createElement("div",{className:"graph-layout"},r.a.createElement("div",{className:"graphContainer"},r.a.createElement("canvas",{id:"myChart",ref:o})))};var Y=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),s=(n[0],n[1],Object(a.useState)(null)),o=Object(c.a)(s,2),l=(o[0],o[1],Object(a.useState)(null)),u=Object(c.a)(l,2),i=u[0],p=u[1],f=null;function d(){return(d=Object(v.a)(b.a.mark((function t(){var n,a,r,s,o,c,l,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("drivers"!==e.dataType){t.next=56;break}if("Number of Wins"!==e.stat){t.next=16;break}return n=e.drivers.map(function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e.season,e.driverMap.get(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=3,t.next=6,Promise.all(n);case 6:a=t.sent,p(a),console.log(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:t.next=56;break;case 16:if("Number of Pole Positions"!==e.stat){t.next=30;break}return r=e.drivers.map(function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e.season,e.driverMap.get(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=18,t.next=21,Promise.all(r);case 21:s=t.sent,p(s),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(18),console.log(t.t1);case 28:t.next=56;break;case 30:if("Number of Fastest Laps"!==e.stat){t.next=44;break}return o=e.drivers.map(function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e.season,e.driverMap.get(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=32,t.next=35,Promise.all(o);case 35:c=t.sent,p(c),t.next=42;break;case 39:t.prev=39,t.t2=t.catch(32),console.log(t.t2);case 42:t.next=56;break;case 44:if("Number of Laps Led"!==e.stat){t.next=56;break}return l=e.drivers.map(function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.season,e.driverMap.get(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=46,t.next=49,Promise.all(l);case 49:u=t.sent,p(u),t.next=56;break;case 53:t.prev=53,t.t3=t.catch(46),console.log(t.t3);case 56:case"end":return t.stop()}}),t,null,[[3,11],[18,25],[32,39],[46,53]])})))).apply(this,arguments)}function m(){return(m=Object(v.a)(b.a.mark((function t(){var n,a,r,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.dataType),"constructors"!==e.dataType){t.next=29;break}if(console.log("constructor pass"),"Number of Wins"!==e.stat){t.next=17;break}return n=e.constructors.map(function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e.season,e.constructorMap.get(n));case 2:return a=t.sent,t.abrupt("return",a.wins);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=5,t.next=8,Promise.all(n);case 8:a=t.sent,p(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0);case 15:t.next=29;break;case 17:if("Standings (Total Points)"!==e.stat){t.next=29;break}return r=e.constructors.map(function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e.season,e.constructorMap.get(n));case 2:return a=t.sent,t.abrupt("return",a.points);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=19,t.next=22,Promise.all(r);case 22:s=t.sent,p(s),t.next=29;break;case 26:t.prev=26,t.t1=t.catch(19),console.log(t.t1);case 29:case"end":return t.stop()}}),t,null,[[5,12],[19,26]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[e.season,e.drivers,e.stat]),Object(a.useEffect)((function(){console.log("retrieve constructor data"),function(){m.apply(this,arguments)}()}),[e.season,e.constructors,e.stat]),console.log(e.stat),"drivers"===e.dataType?("Number of Wins"===e.stat||"Number of Pole Positions"===e.stat||"Number of Fastest Laps"===e.stat||"Number of Laps Led"===e.stat)&&(console.log(i),console.log(e.drivers),f=r.a.createElement(X,{stat:e.stat,labels:e.drivers,data:i})):"constructors"===e.dataType&&("Number of Wins"===e.stat||"Standings (Total Points)"===e.stat)&&(console.log(i),console.log(e.constructors),f=r.a.createElement(X,{stat:e.stat,labels:e.constructors,data:i})),r.a.createElement("div",null,f)},_=l.a.Content,ee=["Number of Wins","Number of Pole Positions","Number of Fastest Laps","Number of Laps Led"],te=["Number of Wins","Standings (Total Points)"];var ne=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)(null),u=Object(c.a)(l,2),i=u[0],p=u[1],f=Object(a.useState)(null),d=Object(c.a)(f,2),m=d[0],b=d[1],v=Object(a.useState)(null),g=Object(c.a)(v,2),h=g[0],y=g[1],j=Object(a.useState)(null),x=Object(c.a)(j,2),O=x[0],w=x[1],E=Object(a.useState)(null),k=Object(c.a)(E,2),S=k[0],N=k[1],T=Object(a.useState)(null),C=Object(c.a)(T,2),D=C[0],M=C[1];return Object(a.useEffect)((function(){o(!1)}),[e.dataType]),console.log("Content section: "+e.dataType),console.log(i),console.log(m),console.log(h),console.log(O),console.log(S),r.a.createElement("div",{className:"contentSection-layout"},r.a.createElement(_,{style:{padding:"0px"}},r.a.createElement("div",{className:"site-layout-content"},null!==e.dataType?r.a.createElement($,{onVisualize:"drivers"===e.dataType?function(e,t,n,a){p(e),b(t),w(n),N(a),o(!0)}:function(e,t,n,a){p(e),y(t),w(n),M(a),o(!0)},dataType:e.dataType,stats:"drivers"===e.dataType?ee:te}):null,s?"drivers"===e.dataType?r.a.createElement(Y,{dataType:e.dataType,season:i,drivers:m,stat:O,driverMap:S}):r.a.createElement(Y,{dataType:e.dataType,season:i,constructors:h,stat:O,constructorMap:D}):null)))};var ae=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],s=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(p,{onDataTypeChange:function(e){s(e),console.log("data type changed: "+e)}}),r.a.createElement(ne,{dataType:n}),r.a.createElement(d,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,n){e.exports=n(151)},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){}},[[75,1,2]]]);
//# sourceMappingURL=main.1f5289c3.chunk.js.map